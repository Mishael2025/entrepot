<!DOCTYPE html>
<html lang="en">

    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Document</title>
        <link rel="stylesheet" href="../css/acceuil.css">
    </head>

    <body>
        <div id="sidebar-container"></div>
        <div id="role-label" class="role-badge"></div>

        <div class="main">
            <div class="app-container">

                <main class="main-content">
                    <h1>Bienvenue dans votre entrep√¥t</h1>
                    <div class="carousel">
                        <div class="slide active">
                            <img src="../Images/Feuille de manioc.jpeg"
                                alt="Feuille de manioc">
                            <div class="caption">Feuille de Manioc ‚Äî Source
                                locale</div>
                        </div>
                        <div class="slide">
                            <img src="../Images/huile-de-palme_1753192586.jpg"
                                alt="Huile de palme">
                            <div class="caption">Huile de Palme ‚Äî Pure et
                                naturelle</div>
                        </div>
                        <div class="slide">
                            <img src="../Images/legumes.jpg" alt="L√©gumes">
                            <div class="caption">L√©gumes frais ‚Äî Livraison
                                quotidienne</div>
                        </div>
                    </div>

                </main>
            </div>

            <section class="annonces">
                <h2>üõçÔ∏è Produits en Stock</h2>

                <div class="annonce">
                    <img src="../Images/Food2.jpg" alt="Produit 1">
                    <div class="texte-annonce">
                        <h3>Riz parfum√©</h3>
                        <p>üåæ Stock √©lev√© ‚Äî pr√™t pour distribution. Disponible
                            en sacs de 25kg.</p>
                    </div>
                </div>

                <div class="annonce">
                    <img src="../Images/huile-de-palme_1753192586.jpg"
                        alt="Produit 2">
                    <div class="texte-annonce">
                        <h3>Huile v√©g√©tale</h3>
                        <p>üõ¢Ô∏è Livraison fra√Æche ‚Äî bidons de 5L disponibles
                            imm√©diatement.</p>
                    </div>
                </div>

                <div class="annonce">
                    <img src="../Images/Riz.jpeg" alt="Produit 3">
                    <div class="texte-annonce">
                        <h3>Riz en Grande quantite</h3>
                        <p>üçù Stock renforc√© ‚Äî prix pr√©f√©rentiel pour commandes
                            group√©es.</p>
                    </div>
                </div>
            </section>
            <section id="annonces-produits" class="annonces-dynamiques">
                <h2>üü¢ Produits disponibles</h2>
                <div class="annonces-slider"></div>
            </section>
        </div>
        <script src="../js/sessionStorage.js"></script>
        <script>

        // Place ce code juste apr√®s l'injection du sidebar
        fetch("../html/sidebard.html")
            .then(r => r.text())
            .then(html => {
                document.getElementById("sidebar-container").innerHTML = html;

                // Ajoute le listener sur le bouton de d√©connexion
                const logoutBtn = document.getElementById("logout-btn");
                if (logoutBtn) {
                    logoutBtn.addEventListener("click", function () {
                        sessionStorage.clear();
                        localStorage.clear();
                        window.location.href = "../html/PageConnexion.html";
                    });
                }
            });


        let current = 0;
        const slides = document.querySelectorAll(".slide");

        // Ajoute ce log pour voir combien de slides sont d√©tect√©es
        console.log("üîç Nombre de slides d√©tect√©es :", slides.length);

        function showSlide(index) {
            slides.forEach((slide, i) => {
                slide.classList.remove("active");
                slide.style.display = "none";
            });
            slides[index].classList.add("active");
            slides[index].style.display = "block";
        }

        showSlide(current);

        setInterval(() => {
            current = (current + 1) % slides.length;
            showSlide(current);
        }, 3000);


    </script>
    </body>

</html>